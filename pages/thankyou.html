<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="You've Earned a Badge!">
    <meta property="og:description" content="Thank you for contributing to omicreativedev/Hacktoberfest2023">
    <meta name="description" content="Thank you for contributing to omicreativedev/Hacktoberfest2023">
    <!-- This is the image that shows up on Social Media when you link to the page. -->
    <meta property="og:image" content="https://omicreativedev.github.io/ThemeSwitcher/pages/img/thankyou/thankyou-social.jpg">
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <link id="theme-style" rel="stylesheet" type="text/css" href="../themes/light.css">
    <!-- Favicon is a small image that appears in the tab of some browsers. -->
    <link rel="icon" href="img/omicreativedev/favicon.ico">
    <title>You've Earned a Badge!</title>
<!-- Format your HTML with https://webformatter.com/html & use 2 tab indent! -->

<!--Stylesheet for Confetti-->
    <style>
      body {
        margin: 0;
        < !-- display: flex;
        -->justify-content: center;
        align-items: center;
        < !-- height: 100vh;
        -->background-color: #f1f1f1;
      }

      .profile-main {
        text-align: center !important;
        padding: 0;
        margin: 0;
      }

      .badge {
        width: 196px;
        height: 230px;
        background-color: transparent;
        text-align: center;
        margin: 0 auto;
        cursor: pointer;
        overflow: hidden;
      }

      .badge img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
      }

      .confetti {
        position: absolute;
        width: 20px;
        height: 10px;
        background-color: #f39c12;
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        pointer-events: none;
        animation: fall 3s ease infinite;
      }

      @keyframes fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 0;
        }

        50% {
          opacity: 1;
        }

        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
    </style>
  </head>


  <body>
    <div class="profile-content">

<!--START NAVIGATION BAR-->
      <div class="profile-nav">
        <a href="../index.html" class="homeButton">Home</a>
 <!-- Theme Switching Dropdown -->
        <div class="theme-switch">
          <select id="theme-select" onchange="changeTheme()">
            <option value="">Switch Theme</option>
          </select>
        </div>
<!-- End Theme Switching Dropdown -->
      </div>
<!--END NAVIGATION BAR-->

<!-- Begin Profile Card (the white box) -->
      <div class="profile-main whtbg" style="height: 500px; width: 400px;">
        <div class="badge" onclick="burstConfetti()">
          <img src="https://omicreativedev.github.io/ThemeSwitcher/pages/img/thankyou/contributor_badge.png" alt="Official Contributor Badge" height="231" width="196">
        </div>
        <section class="profile-info">
          <h1 class="small">Contributor Recognition</h1>
        </section>
        <section>
          <div align="center">
            <a href="https://github.com/omicreativedev/ThemeSwitcher/graphs/contributors">
              <!-- <img src="https://contrib.rocks/image?repo=omicreativedev/ThemeSwitcher"> -->
              <img class="contrib-box" src="https://readme-contributors.now.sh/omicreativedev/ThemeSwitcher?width=180&spacing=2&avatarSize=17">
            </a>
          </div>
        </section>
      </div>
      <footer>
        <div class="profile-footer"></div>
      </footer>
    </div>

    <script>

// Javascript for Confetti 
      function createConfetti(x, y) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = x + 'px';
        confetti.style.top = y + 'px';
        document.body.appendChild(confetti);
        setTimeout(() => {
          confetti.remove();
        }, 3000);
      }

      function burstConfetti() {
        for (let i = 0; i < 100; i++) {
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight;
          createConfetti(x, y);
        }
      }

// Trigger confetti burst effect on page load
      window.onload = function() {
        burstConfetti();
      }

// Javascript for themeswitcher_subdir.js

    async function populateThemeDropdown() {
      try {
        const themeSelect = document.getElementById("theme-select");
        const response = await fetch("../themes_list.txt");
        const data = await response.text();
        const themeFiles = data.split("\n");

    themeFiles.forEach((themeFileName) => {
          const trimmedFileName = themeFileName.trim();
          if (trimmedFileName !== "") {
            const option = new Option(trimmedFileName, `../themes/${trimmedFileName}`);
          themeSelect.appendChild(option);
      }
    });
  } catch (error) {
    console.error("Error fetching theme list:", error);
  }
}

// Call the functions to populate the themeswitcher_subdir.js dropdowns
    populateThemeDropdown();

// Function to handle theme selection change for themeswitcher_subdir.js
    function changeTheme() {
        const selectedValue = document.getElementById("theme-select").value;
        if (selectedValue !== "") {

// Change the theme by updating the stylesheet with themeswitcher_subdir.js
          document.getElementById("theme-style").href = selectedValue;
        }
      }

// Attach the changePage and changeTheme functions to the select elements' onchange events with themeswitcher_subdir.js
      document.getElementById("theme-select").addEventListener("change", changeTheme);
    </script>
  </body>
</html>
